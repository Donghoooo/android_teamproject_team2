<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bitc.fullstack503.moneylog_spring.mapper.MainMapper">

  <select id="signUp" parameterType="bitc.fullstack503.moneylog_spring.dto.MemberDTO" resultType="bitc.fullstack503.moneylog_spring.dto.MainListDTO">
    SELECT income_cate as cate, income_use as usee, income_source as way, income_money AS amount, income_date AS transaction_date, 'income' AS type
    FROM income_log
    WHERE member_id = #{memberId}
    AND income_date BETWEEN #{createDate} AND #{updateDate}
    UNION ALL
    SELECT expense_cate as cate, expense_use as usee, payment_option as way, expense_money AS amount, expense_date AS transaction_date,'expense' AS type
    FROM expense_log
    WHERE member_id = #{memberId}
    AND expense_date BETWEEN #{createDate} AND #{updateDate}
    ORDER BY transaction_date DESC;
  </select>



</mapper>